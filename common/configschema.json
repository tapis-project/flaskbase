{
  "$schema": "http://json-schema.org/schema#",
  "$id": "http://github.com/tapis-project/tapisflask/schemas/configschema.json",
  "type": "object",
  "properties": {
    "server": {
      "type": "string",
      "pattern": "dev|prod",
      "default": "prod",
      "description": "configures whether to run the development server or the production server."
    },
    "service_name": {
      "type": "string",
      "description": "The name of the service, such as 'apps', 'jobs', etc."
    },
    "log_level": {
      "type": "string",
      "pattern": "DEBUG|INFO|WARN|ERROR|CRITICAL",
      "default": "ERROR",
      "description": "the logging level to use for the service. "
    },
    "show_traceback": {
      "type": "boolean",
      "description": "Whether to show a full traceback when an exception occurs; should be false in production.",
      "default": false
    },
    "version": {
      "type": "string",
      "description": "The version string for the service, e.g., '3.24.1'.",
      "default": "dev"
    },
    "log_file": {
      "type": "string",
      "default": "/home/tapis/service.log",
      "description": "location of log file."
    },
    "service_tenant_base_url": {
      "type": "string",
      "default": "https://dev.develop.tapis.io",
      "description": "Base URL for the tenant where this service lives. This will be the URL to used for retrieving the service's Tapis token amd for retrieving initialization data such as tenant data and other basic configuration."
    },
    "service_tenant_id": {
      "type": "string",
      "default": "dev",
      "description": "The tenant_id for the tenant where this service lives."
    },
    "tenants": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "description": "The list of tenants that this service will serve requests for."
    },
    "use_sk": {
      "type": "boolean",
      "description": "Whether this service should use an external Tapis Security Kernel for its auth. NOTE: This should always be TRUE in production",
      "default": true
    },
    "dev_jwt_public_key": {
      "type": "string",
      "description": "The public key associated with the private key to use for signing JWTs in dev mode. NOTE: This should NOT be used in production",
      "default": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz7rr5CsFM7rHMFs7uKIdcczn0uL4ebRMvH8pihrg1tW/fp5Q+5ktltoBTfIaVDrXGF4DiCuzLsuvTG5fGElKEPPcpNqaCzD8Y1v9r3tfkoPT3Bd5KbF9f6eIwrGERMTs1kv7665pliwehz91nAB9DMqqSyjyKY3tpSIaPKzJKUMsKJjPi9QAS167ylEBlr5PECG4slWLDAtSizoiA3fZ7fpngfNr4H6b2iQwRtPEV/EnSg1N3Oj1x8ktJPwbReKprHGiEDlqdyT6j58l/I+9ihR6ettkMVCq7Ho/bsIrwm5gP0PjJRvaD5Flsze7P4gQT37D1c5nbLR+K6/T0QTiyQIDAQAB\n-----END PUBLIC KEY-----"
    },
    "dev_iss": {
      "type": "string",
      "description": "The URL to use for the 'iss' claim in dev mode. NOTE: This should NOT be used in production",
      "default": "https://dev.api.tapis.io/v3/tokens"
    }
  },
  "required": ["service_name", "tenants"]
}
